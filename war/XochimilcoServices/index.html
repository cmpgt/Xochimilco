<!DOCTYPE html>
<html lang="en">
<head>
<title>Xochimilco</title>
<meta charset="utf-8">
<meta name="description" content="Place your description here" />
<meta name="keywords" content="put, your, keyword, here" />
<meta name="author" content="Templates.com - website templates provider" />
<link rel="stylesheet" href="css/reset.css" type="text/css" media="all">
<link rel="stylesheet" href="css/layout.css" type="text/css" media="all">
<link rel="stylesheet" href="css/style.css" type="text/css" media="all">
<script type="text/javascript" src="js/jquery-1.4.2.min.js"></script>
<script type="text/javascript"
	src="http://info.template-help.com/files/ie6_warning/ie6_script.js"></script>
<script type="text/javascript" src="js/cufon-yui.js"></script>
<script type="text/javascript" src="js/cufon-replace.js"></script>
<script type="text/javascript"
	src="js/AG_Foreigner_Light-Plain_400.font.js"></script>
<script type="text/javascript" src="js/Myriad_Pro_400.font.js"></script>
<script type="text/javascript" src="js/tabs.js"></script>
<script type="text/javascript" src="js/jquery.faded.js"></script>
<script type="text/javascript" src="js/script.js"></script>
<!--[if lt IE 7]>
		 <link rel="stylesheet" href="css/ie/ie6.css" type="text/css" media="screen">
		 <script type="text/javascript" src="js/ie_png.js"></script>
		 <script type="text/javascript">
				ie_png.fix('.png, ul.tabs li a, ul.tabs li a span, ul.tabs li a span, figure img');
		 </script>
<![endif]-->
<!--[if lt IE 9]>
		<script type="text/javascript" src="js/html5.js"></script>
	<![endif]-->

<style type="text/css">
html {
	height: 100%
}

body {
	height: 100%;
	margin: 0;
	padding: 0
}

#mapa {
	width: 900px;
	height: 600px;
}
</style>
<script type="text/javascript"
	src="http://maps.googleapis.com/maps/api/js?key=AIzaSyATFse6dj7EKAICGcmyS0OnJahe_kJWp2o&sensor=false">
    </script>
<script type="text/javascript">
    var puntos = [];
	var unpunto = null;
	var map = null;
	var center = null;

		
	function initialize() {       
		        var mapOptions = {
	                     center: center,
          		       zoom: 12,
	                     mapTypeId: google.maps.MapTypeId.ROADMAP,
	                     mapTypeControl: true,
	                     disableDoubleClickZoom: true,
	                     minZoom:10,
	                     maxZoom:10,                     
    mapTypeControlOptions: {
      style: google.maps.MapTypeControlStyle.DROPDOWN_MENU
    },
    navigationControl: true,
    navigationControlOptions: {
      style: google.maps.NavigationControlStyle.SMALL
    }
        	};
         map = new google.maps.Map(document.getElementById("mapa"),
            mapOptions);
          
}

      

	

    function hide(){
    	if(puntos){
    		for(p in puntos){
    			puntos[p].setMap(null);
    		}
    	}
    }



  function economics(){
		 var chinampa = 'imgs/chinampa.jpg';
		 var flor = 'imgs/flor.jpg';

		 var MercFl = '<div>'+
		                     '<img src="imgs/mercado.jpg" />'+
		 					'</div>';

		 var VivNeza = '<div>'+
		                     '<img src="imgs/viveroNeza.jpg" />'+
		 					'</div>';
		 var LagToro = '<div>'+
		                     '<img src="imgs/LagunaToro.jpg" />'+
		 					'</div>';

		 var LagXal = '<div>'+
		                     '<img src="imgs/xaltocan.jpg" />'+
		 					'</div>';
		 var LagCal = '<div>'+
		                     '<img src="imgs/caltongo.jpg" />'+
		 					'</div>';

		 var infoMercado = new google.maps.InfoWindow({
		     content: MercFl });

		 var infoVivero = new google.maps.InfoWindow({
		     content: VivNeza});

		 var infoToro = new google.maps.InfoWindow({
		     content: LagToro});

		 var infoXaltocan = new google.maps.InfoWindow({
		     content: LagXal});

		 var infoCal = new google.maps.InfoWindow({
		     content: LagCal});
		     
		     
        map.setCenter(center);
        var merc = new google.maps.LatLng(19.29846649,-99.099212179);
	    var merc2 = new google.maps.LatLng(19.285828,-99.075866);
	    var merc3 = new google.maps.LatLng(19.2555627,-99.09983538);
	    var merc4 = new google.maps.LatLng(19.26048966,-99.096723);
	    var merc5 = new google.maps.LatLng(19.265270,-99.108567);


	 var marker1 = new google.maps.Marker({
	  		     		position: merc,
	  		     		map:map,
	  		     		title:"Chinampas",
	  		     		icon: flor
	   			});

		google.maps.event.addListener(marker1, 'click', function() {
  				infoMercado.open(map,marker1);
			});
		puntos.push(marker1);


	  		 var marker2 = new google.maps.Marker({
	  		     		position: merc2,
	  		     		map:map,
	  		     		title:"Chinampas",
	  		     		icon:chinampa
	   			});

		google.maps.event.addListener(marker2, 'click', function() {
  				infoVivero.open(map,marker2);
			});
		puntos.push(marker2);

	   		 var marker3 = new google.maps.Marker({
	   		     		position: merc3,
	   		     		map:map,
	   		     		title:"Chinampas",
	   		     		icon:chinampa
	   			});
		google.maps.event.addListener(marker3, 'click', function() {
  				infoXaltocan.open(map,marker3);
			});
	puntos.push(marker3);

	   		 var marker4 = new google.maps.Marker({
	  		     		position: merc4,
	  		     		map:map,
	  		     		title:"Chinampas",
	  		     		icon:chinampa
	   			});
		google.maps.event.addListener(marker4, 'click', function() {
  				infoCal.open(map,marker4);
			});
	  puntos.push(marker4);

	   		 var marker5 = new google.maps.Marker({
	   		     		position: merc5,
	   		     		map:map,
	   		     		title:"Chinampas",
	   		     		icon:chinampa
	   			});
		google.maps.event.addListener(marker5, 'click', function() {
  				infoToro.open(map,marker5);
			});
	   	puntos.push(marker5);

  	 }
  
  
  function biodiversity(){
		 var chinampa = 'imgs/chinampa.jpg';
		 var flor = 'imgs/flor.jpg';
//http://pastebin.com/Y4qB4DRg

	$.getJSON("/xochimilcoservlet?opcion=3", {}, function(data){
			$.each(data.places, function(i, item){
				var ic = "imgs/icono-biodiversidad.png";
				var marker = new google.maps.Marker({
					position: new google.maps.LatLng(item.lat,
					 item.lon),
					map: map,
					title: item.nombre,
					icon:ic
				});
				puntos[i] = marker;
				var infowindow = new google.maps.InfoWindow({
					content: "<h3>"+ item.nombre +"</h3><p>"+ 
					item.nombre +"</p>" + '<div>'+
		                     '<img src="' + item.img + '" />'+'</div>'
		                     + "<p><br/>" + item.descripcion + "<br/><br/></p>"
		                    
				});
				ventanas[i] = infowindow;
				google.maps.event.addListener(marker, 'click', function() {
					infowindow.open(map, marker);
				});
			});
		});
	 }

    function showEconomics(){
    	hide();
    	economics();
    }
    
    function showBiodiversity(){
    	hide();
    	biodiversity();
    }
	
    </script>
</head>
<body id="page1" onload="initialize();">
	<div class="wrap">
		<div class="ic">
			<!-- HLinks -->
		</div>
		<!-- header -->
		<header>
			<div class="container">
				<h1>
					<a href="index.html">Xochimilco <span></span></a>
				</h1>
				<nav>
					<ul>
						<li><a href="index.html" class="active"><span><span>Inicio</span></span></a></li>
						<li><a href="."><span><span>¿Quiénes somos?</span></span></a></li>
						<li><a href="."><span><span>Participantes</span></span></a></li>
						<li><a href="."><span><span>Galería</span></span></a></li>
						<li><a href="."><span><span>Contáctanos</span></span></a></li>
					</ul>
				</nav>
				<ul class="tabs">
					<li><a href="#tab1" onclick="showXochimilco();"><span><span>Xochimilco</span></span></a></li>
					<li><a href="#tab1" onclick="showBiodiversity();"><span><span>Biodiversidad</span></span></a></li>
					<li><a href="#tab2" onclick="showCulture();"><span><span>Cultura</span></span></a></li>
					<li><a href="#tab3" onclick="showEconomics();"><span><span>Economía</span></span></a></li>
					<li><a href="#tab5"><span><span>Agua</span></span></a></li>
				</ul>
			</div>
		</header>
		<div class="container">
			<!-- content -->
			<section id="content">
				<div id="mapa"></div>
			</section>
		</div>
	</div>

	<!-- footer -->
	<footer>
		<div class="container">
			<div class="inside"></div>
		</div>
	</footer>
	<script type="text/javascript"> </script>
</body>
</html>
